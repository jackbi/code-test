{"remainingRequest":"/Users/wangshi/Desktop/盟拓软件项目/bi-table-test/node_modules/babel-loader/lib/index.js!/Users/wangshi/Desktop/盟拓软件项目/bi-table-test/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangshi/Desktop/盟拓软件项目/bi-table-test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangshi/Desktop/盟拓软件项目/bi-table-test/src/views/goTest/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangshi/Desktop/盟拓软件项目/bi-table-test/src/views/goTest/index.vue","mtime":1608282089858},{"path":"/Users/wangshi/Desktop/盟拓软件项目/bi-table-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangshi/Desktop/盟拓软件项目/bi-table-test/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangshi/Desktop/盟拓软件项目/bi-table-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangshi/Desktop/盟拓软件项目/bi-table-test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgY3JlYXRlRHVCYW5nIGZyb20gJy4vaW5kZXguanMnOwppbXBvcnQgTm9kZUNvbmZpZyBmcm9tICcuL2NvbXBvbmVudHMvTm9kZUNvbmZpZyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBOb2RlQ29uZmlnOiBOb2RlQ29uZmlnCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmV3Q3JlYXRlOiB7fSwKICAgICAgbm9kZUpzb246IHt9LAogICAgICAvLyDoioLngrnkvKDov4fmnaXnmoRqc29uCiAgICAgIHNob3dOb2RlQ29uZmlnOiBmYWxzZSAvLyDlvLnnqpfnu4Tku7bmmL7npLoKCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIHdhdGNoOiB7fSwKICBtZXRob2RzOiB7CiAgICBjbGlja05vZGU6IGZ1bmN0aW9uIGNsaWNrTm9kZShkYXRhKSB7CiAgICAgIC8vIOeUqOS6juaOpeaUtmRpYWdyYW3kuIrnmoTlj4zlh7vkuovku7YKICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgIHRoaXMubm9kZUpzb24gPSBkYXRhOwogICAgICB0aGlzLnNob3dOb2RlQ29uZmlnID0gdHJ1ZTsKICAgIH0sCiAgICBjbG9zZURpYWxvZzogZnVuY3Rpb24gY2xvc2VEaWFsb2coKSB7CiAgICAgIHRoaXMubm9kZUpzb24gPSB7fTsKICAgICAgdGhpcy5zaG93Tm9kZUNvbmZpZyA9IGZhbHNlOwogICAgfSwKICAgIHVwZGF0ZU5vZGU6IGZ1bmN0aW9uIHVwZGF0ZU5vZGUoZSkgewogICAgICAvLyDmlLnlj5hub2Rl55qE6aKc6ImyCiAgICAgIHRoaXMubmV3Q3JlYXRlLmNoYW5nZShlKTsKICAgICAgdGhpcy5jbG9zZURpYWxvZygpOwogICAgfSwKICAgIGluaXREdWJhbmc6IGZ1bmN0aW9uIGluaXREdWJhbmcoKSB7CiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgbGVmdE5hbWU6ICdteVBhbGV0dGVEaXYnLAogICAgICAgIHJpZ2h0TmFtZTogJ215RGlhZ3JhbURpdicsCiAgICAgICAgZ2xvYmFsRm9udENvbG9yOiAnIzYwNjI2NicKICAgICAgfTsKICAgICAgdmFyIG5ld0NyZWF0ZSA9IG5ldyBjcmVhdGVEdUJhbmcocGFyYW1zKTsKICAgICAgdGhpcy5uZXdDcmVhdGUgPSBuZXdDcmVhdGU7CiAgICAgIG5ld0NyZWF0ZS5pbml0KCk7CgogICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2dvTm9kZURhdGEnKSkgewogICAgICAgIC8vIOWmguaenOaYr+S7jumihOiniOi3s+i/h+adpeeahAogICAgICAgIHRoaXMubmV3Q3JlYXRlLmxvYWQoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ29Ob2RlRGF0YScpKSk7CiAgICAgIH0KICAgIH0sCiAgICBnb1ZpZXc6IGZ1bmN0aW9uIGdvVmlldygpIHsKICAgICAgLy8g6aKE6KeICiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdnb05vZGVEYXRhJyk7CiAgICAgIHZhciBqc29uRGF0YSA9IHRoaXMubmV3Q3JlYXRlLmdldEpzb24oKTsKCiAgICAgIGlmIChKU09OLnBhcnNlKGpzb25EYXRhKS5ub2RlRGF0YUFycmF5Lmxlbmd0aCA8IDEpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnb05vZGVEYXRhJywganNvbkRhdGEpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ2dvSnNWaWV3JwogICAgICB9KTsKICAgIH0sCiAgICBnb1NhdmU6IGZ1bmN0aW9uIGdvU2F2ZSgpIHsKICAgICAgLy8g5L+d5a2YCiAgICAgIHZhciBqc29uRGF0YSA9IHRoaXMubmV3Q3JlYXRlLmdldEpzb24oKTsKICAgICAgY29uc29sZS5sb2coanNvbkRhdGEpOyAvLyB0aGlzLm5ld0NyZWF0ZS5sb2FkKEpTT04ucGFyc2UoanNvbkRhdGEpKTsKICAgICAgLy8gdGhpcy5weDJyZW0oanNvbkRhdGEpCiAgICB9LAogICAgcHgycmVtOiBmdW5jdGlvbiBweDJyZW0oc3RyT2JqKSB7CiAgICAgIC8vIOS/neWtmOaXtuWDj+e0oOagvOW8j+i9rOaIkHJlbQogICAgICB2YXIgbm9kZURhdGEgPSBKU09OLnBhcnNlKHN0ck9iaik7CiAgICAgIG5vZGVEYXRhLm5vZGVEYXRhQXJyYXkubWFwKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgeC5mb250ID0gKHguZm9udC5zcGxpdCgncHgnKVswXSAvIDE5MikudG9GaXhlZCgzKSArICdyZW0gSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZic7CiAgICAgIH0pOwogICAgfSwKICAgIHJlbTJweDogZnVuY3Rpb24gcmVtMnB4KGpzb25EYXRhKSB7CiAgICAgIC8vIOivu+WPluaXtuWDj+e0oOagvOW8j+i9rOaIkHB4CiAgICAgIHZhciBzdHJPYmogPSBPYmplY3QuYXNzaWduKHt9LCBqc29uRGF0YSk7CiAgICAgIHN0ck9iai5tYXAoZnVuY3Rpb24gKHgpIHsKICAgICAgICB4LmZvbnQgPSBNYXRoLnJvdW5kKHBhcnNlSW50KHguZm9udC5zcGxpdCgncmVtJylbMF0gKiAxOTIpKSArICdweCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmJzsKICAgICAgfSk7CiAgICAgIHJldHVybiBzdHJPYmo7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHdpbmRvdy5kb3VibGVDbGlja05vZGUgPSB0aGlzLmNsaWNrTm9kZTsKICAgIHRoaXMuaW5pdER1YmFuZygpOwogIH0sCiAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiBiZWZvcmVDcmVhdGUoKSB7fSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7fSwKICBiZWZvcmVVcGRhdGU6IGZ1bmN0aW9uIGJlZm9yZVVwZGF0ZSgpIHt9LAogIHVwZGF0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZWQoKSB7fSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkge30sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7fSwKICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGFjdGl2YXRlZCgpIHt9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\n * @Descripttion: \n * @version: \n * @Author: sueRimn\n * @Date: 2020-11-11 14:47:10\n * @LastEditors: sueRimn\n * @LastEditTime: 2020-11-12 10:55:19\n-->\n<template>\n  <section style=\"height: 100%;\">\n    <div style=\"text-align: right;\">\n        <a-button @click=\"goSave\" value=\"small\" type=\"primary\">保存</a-button>\n    </div>\n    <a-row style=\"height: 100%;\" :gutter=\"[16, 16]\">\n      <a-col style=\"height: 100%;\" :span=\"4\">\n        <div\n          id=\"myPaletteDiv\"\n          style=\"width: 100%; height: 100%; margin-right: 2px; background-color: #eee; position: relative; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); cursor: auto;\"\n        ></div>\n      </a-col>\n      <a-col style=\"height: 100%;\" :span=\"20\">\n        <div\n          id=\"myDiagramDiv\"\n          style=\" height: 100%; background-color:#eee; position: relative; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); cursor: auto;\"\n        ></div>\n      </a-col>\n    </a-row>\n    <!-- 配置节点 -->\n    <node-config \n    :nodeJson=\"nodeJson\"\n    v-if=\"showNodeConfig\" \n    @closeDialog=\"closeDialog\"\n    @updateNode=\"updateNode\"></node-config>\n  </section>\n</template>\n\n<script>\nimport createDuBang from './index.js';\nimport NodeConfig from './components/NodeConfig'\nexport default {\n  components: { NodeConfig },\n  data() {\n    return {\n        newCreate: {},\n        nodeJson: {}, // 节点传过来的json\n        showNodeConfig: false, // 弹窗组件显示\n    };\n  }, \n  computed: {},\n  watch: {},\n  methods: {\n    clickNode(data) { // 用于接收diagram上的双击事件\n      console.log(data)\n      this.nodeJson = data\n      this.showNodeConfig = true\n    },\n    closeDialog() {\n      this.nodeJson = {}\n      this.showNodeConfig = false\n    },\n    updateNode(e) { // 改变node的颜色\n    \n      this.newCreate.change(e)\n      this.closeDialog()\n    },\n    initDubang() {\n        let params = {\n            leftName: 'myPaletteDiv',\n            rightName: 'myDiagramDiv',\n            globalFontColor: '#606266',\n        };\n        let newCreate = new createDuBang(params);\n        this.newCreate = newCreate;\n        newCreate.init();\n        if(localStorage.getItem('goNodeData')) { // 如果是从预览跳过来的\n            this.newCreate.load(JSON.parse(localStorage.getItem('goNodeData')));\n        }\n    },\n    goView() { // 预览\n        localStorage.removeItem('goNodeData')\n        let jsonData = this.newCreate.getJson();\n        if(JSON.parse(jsonData).nodeDataArray.length < 1 ) {\n            return;\n        }\n        localStorage.setItem('goNodeData',jsonData)\n        this.$router.push({name:'goJsView'})\n    },\n    goSave() { // 保存\n      let jsonData = this.newCreate.getJson();\n      console.log(jsonData)\n      // this.newCreate.load(JSON.parse(jsonData));\n      // this.px2rem(jsonData)\n    },\n    px2rem (strObj) { // 保存时像素格式转成rem\n        let nodeData = JSON.parse(strObj)\n        nodeData.nodeDataArray.map(x=> {\n            x.font = ( x.font.split('px')[0] / 192 ).toFixed(3) + 'rem Helvetica, Arial, sans-serif'\n        })\n    },\n    rem2px(jsonData) { // 读取时像素格式转成px\n        let strObj = Object.assign({},jsonData)\n        strObj.map(x=> {\n            x.font = Math.round( parseInt( x.font.split('rem')[0] * 192 ) ) + 'px Helvetica, Arial, sans-serif'\n        })\n        return strObj\n    },\n  },\n  created() {},\n  mounted() {\n    window.doubleClickNode = this.clickNode\n    this.initDubang();\n  },\n  beforeCreate() {},\n  beforeMount() {},\n  beforeUpdate() {},\n  updated() {},\n  beforeDestroy() {},\n  destroyed() {},\n  activated() {}\n};\n</script>\n<style lang=\"scss\" scoped></style>\n"],"sourceRoot":"src/views/goTest"}]}